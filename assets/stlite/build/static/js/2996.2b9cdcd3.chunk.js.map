{"version":3,"file":"static/js/2996.2b9cdcd3.chunk.js","mappings":"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","sources":["../../../streamlit/frontend/lib/src/components/elements/Toast/styled-components.tsx","../../../streamlit/frontend/lib/src/components/elements/Toast/Toast.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport styled from \"@emotion/styled\"\n\nexport const StyledViewButton = styled.button(({ theme }) => ({\n  fontSize: theme.fontSizes.sm,\n  lineHeight: \"1.4rem\",\n  color: theme.colors.fadedText60,\n  backgroundColor: theme.colors.transparent,\n  border: \"none\",\n  boxShadow: \"none\",\n  padding: \"0px\",\n  \"&:hover, &:active, &:focus\": {\n    border: \"none\",\n    outline: \"none\",\n    boxShadow: \"none\",\n  },\n  \"&:hover\": {\n    color: theme.colors.primary,\n  },\n}))\n\ninterface StyledToastMessageProps {\n  expanded: boolean\n}\n\nexport const StyledToastWrapper = styled.div<StyledToastMessageProps>(\n  ({ theme }) => ({\n    display: \"flex\",\n    flexDirection: \"row\",\n    gap: theme.spacing.lg,\n\n    \"> span\": {\n      marginTop: \"0.25rem\",\n    },\n  })\n)\n\nexport const StyledIcon = styled.div(({ theme }) => ({\n  fontSize: theme.fontSizes.xl,\n}))\n\nexport const StyledMessageWrapper = styled.div(({ theme }) => ({\n  display: \"flex\",\n  flexDirection: \"column\",\n  gap: theme.spacing.sm,\n  alignItems: \"start\",\n  // Align text to the center of the icon when only 1 line.\n  justifyContent: \"center\",\n  overflow: \"hidden\",\n  minHeight: \"100%\",\n  fontSize: theme.fontSizes.sm,\n  lineHeight: theme.lineHeights.base,\n}))\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, {\n  ReactElement,\n  useState,\n  useEffect,\n  useCallback,\n  useMemo,\n} from \"react\"\nimport { withTheme } from \"@emotion/react\"\nimport { toaster, ToastOverrides } from \"baseui/toast\"\n\nimport {\n  hasLightBackgroundColor,\n  EmotionTheme,\n} from \"@streamlit/lib/src/theme\"\n\nimport StreamlitMarkdown from \"@streamlit/lib/src/components/shared/StreamlitMarkdown\"\nimport { Kind } from \"@streamlit/lib/src/components/shared/AlertContainer\"\nimport AlertElement from \"@streamlit/lib/src/components/elements/AlertElement/AlertElement\"\n\nimport {\n  StyledViewButton,\n  StyledToastWrapper,\n  StyledMessageWrapper,\n} from \"./styled-components\"\nimport { DynamicIcon } from \"@streamlit/lib/src/components/shared/Icon\"\n\nexport interface ToastProps {\n  theme: EmotionTheme\n  body: string\n  icon?: string\n  width: number\n}\n\nfunction generateToastOverrides(theme: EmotionTheme): ToastOverrides {\n  const lightBackground = hasLightBackgroundColor(theme)\n  return {\n    Body: {\n      props: {\n        \"data-testid\": \"stToast\",\n      },\n      style: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        gap: theme.spacing.md,\n        width: theme.sizes.sidebar,\n        marginTop: \"8px\",\n        // Warnings logged if you use shorthand property here:\n        borderTopLeftRadius: theme.radii.lg,\n        borderTopRightRadius: theme.radii.lg,\n        borderBottomLeftRadius: theme.radii.lg,\n        borderBottomRightRadius: theme.radii.lg,\n        paddingTop: theme.spacing.lg,\n        paddingBottom: theme.spacing.lg,\n        paddingLeft: theme.spacing.twoXL,\n        paddingRight: theme.spacing.twoXL,\n        backgroundColor: lightBackground\n          ? theme.colors.gray10\n          : theme.colors.gray90,\n        color: theme.colors.bodyText,\n        // Take standard BaseWeb shadow and adjust for dark backgrounds\n        boxShadow: lightBackground\n          ? \"0px 4px 16px rgba(0, 0, 0, 0.16)\"\n          : \"0px 4px 16px rgba(0, 0, 0, 0.7)\",\n      },\n    },\n    CloseIcon: {\n      style: {\n        color: theme.colors.fadedText40,\n        width: theme.fontSizes.lg,\n        height: theme.fontSizes.lg,\n        marginRight: `calc(-1 * ${theme.spacing.lg} / 2)`,\n        \":hover\": {\n          color: theme.colors.bodyText,\n        },\n      },\n    },\n  }\n}\n\n// Function used to truncate toast messages that are longer than three lines.\nexport function shortenMessage(fullMessage: string): string {\n  const characterLimit = 104\n\n  if (fullMessage.length > characterLimit) {\n    let message = fullMessage.replace(/^(.{104}[^\\s]*).*/, \"$1\")\n\n    if (message.length > characterLimit) {\n      message = message\n        .substring(0, characterLimit)\n        .split(\" \")\n        .slice(0, -1)\n        .join(\" \")\n    }\n\n    return message.trim()\n  }\n\n  return fullMessage\n}\n\nexport function Toast({ theme, body, icon, width }: ToastProps): ReactElement {\n  const displayMessage = shortenMessage(body)\n  const shortened = body !== displayMessage\n\n  const [expanded, setExpanded] = useState(!shortened)\n  const [toastKey, setToastKey] = useState<React.Key>(0)\n\n  const handleClick = useCallback((): void => {\n    setExpanded(!expanded)\n  }, [expanded])\n\n  const styleOverrides = useMemo(() => generateToastOverrides(theme), [theme])\n\n  const toastContent = useMemo(\n    () => (\n      <>\n        <StyledToastWrapper expanded={expanded}>\n          {icon && (\n            <DynamicIcon\n              iconValue={icon}\n              size=\"xl\"\n              testid=\"stToastDynamicIcon\"\n            />\n          )}\n          <StyledMessageWrapper>\n            <StreamlitMarkdown\n              source={expanded ? body : displayMessage}\n              allowHTML={false}\n              isToast\n            />\n            {shortened && (\n              <StyledViewButton\n                data-testid=\"toastViewButton\"\n                className=\"toastViewButton\"\n                onClick={handleClick}\n              >\n                {expanded ? \"view less\" : \"view more\"}\n              </StyledViewButton>\n            )}\n          </StyledMessageWrapper>\n        </StyledToastWrapper>\n      </>\n    ),\n    [shortened, expanded, body, icon, displayMessage, handleClick]\n  )\n\n  useEffect(() => {\n    // Handles the error case where st.sidebar.toast is called since\n    // baseweb would throw error anyway (no toast container in sidebar)\n    if (theme.inSidebar) return\n\n    // Uses toaster utility to create toast on mount and generate unique key\n    // to reference that toast for update/removal\n    const newKey = toaster.info(toastContent, {\n      overrides: { ...styleOverrides },\n    })\n    setToastKey(newKey)\n\n    return () => {\n      // Disable transition so toast doesn't flicker on removal\n      toaster.update(newKey, {\n        overrides: { Body: { style: { transitionDuration: 0 } } },\n      })\n      // Remove toast on unmount\n      toaster.clear(newKey)\n    }\n\n    // Array must be empty to run as mount/cleanup\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  useEffect(() => {\n    // Handles expand/collapse button behavior for long toast messages\n    toaster.update(toastKey, {\n      children: toastContent,\n      overrides: { ...styleOverrides },\n    })\n  }, [toastKey, toastContent, styleOverrides])\n\n  const sidebarErrorMessage = (\n    <AlertElement\n      kind={Kind.ERROR}\n      body=\"Streamlit API Error: `st.toast` cannot be called directly on the sidebar with `st.sidebar.toast`.\n        See our `st.toast` API [docs](https://docs.streamlit.io/library/api-reference/status/st.toast) for more information.\"\n      width={width}\n    />\n  )\n  return (\n    // Shows error if toast is called on st.sidebar\n    <>{theme.inSidebar && sidebarErrorMessage}</>\n  )\n}\n\nexport default withTheme(Toast)\n"],"names":["StyledViewButton","_styled","target","_ref","theme","fontSize","fontSizes","sm","lineHeight","color","colors","fadedText60","backgroundColor","transparent","border","boxShadow","padding","outline","primary","StyledToastWrapper","_ref2","display","flexDirection","gap","spacing","lg","marginTop","StyledMessageWrapper","_ref4","alignItems","justifyContent","overflow","minHeight","lineHeights","base","withTheme","body","icon","width","displayMessage","fullMessage","length","message","replace","substring","split","slice","join","trim","shortenMessage","shortened","expanded","setExpanded","useState","toastKey","setToastKey","handleClick","useCallback","styleOverrides","useMemo","lightBackground","hasLightBackgroundColor","Body","props","style","md","sizes","sidebar","borderTopLeftRadius","radii","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","paddingTop","paddingBottom","paddingLeft","twoXL","paddingRight","gray10","gray90","bodyText","CloseIcon","fadedText40","height","marginRight","concat","generateToastOverrides","toastContent","_jsx","_Fragment","children","_jsxs","DynamicIcon","iconValue","size","testid","StreamlitMarkdown","source","allowHTML","isToast","className","onClick","useEffect","inSidebar","newKey","toaster","overrides","transitionDuration","sidebarErrorMessage","AlertElement","kind","Kind"],"sourceRoot":""}