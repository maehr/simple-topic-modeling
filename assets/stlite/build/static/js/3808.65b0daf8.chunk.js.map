{"version":3,"file":"static/js/3808.65b0daf8.chunk.js","mappings":"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","sources":["../../../streamlit/frontend/lib/src/components/elements/DeckGlJsonChart/withMapboxToken/MapboxTokenError.tsx","../../../streamlit/frontend/lib/src/components/elements/DeckGlJsonChart/withMapboxToken/withMapboxToken.tsx","../../../streamlit/frontend/lib/src/components/elements/DeckGlJsonChart/styled-components.ts","../../../streamlit/frontend/lib/src/components/elements/DeckGlJsonChart/DeckGlJsonChart.tsx","../../../streamlit/frontend/lib/src/components/shared/FullScreenWrapper/styled-components.ts","../../../streamlit/frontend/lib/src/components/shared/FullScreenWrapper/FullScreenWrapper.tsx","../../../streamlit/frontend/lib/src/components/shared/FullScreenWrapper/withFullScreenWrapper.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { ReactElement } from \"react\"\nimport ErrorElement from \"@streamlit/lib/src/components/shared/ErrorElement\"\nimport {\n  MapboxTokenFetchingError,\n  MapboxTokenNotProvidedError,\n} from \"./withMapboxToken\"\n\ninterface Props {\n  error: Error | MapboxTokenFetchingError | MapboxTokenNotProvidedError\n  deltaType: string\n  width: number\n}\n\nconst MapboxTokenError = ({\n  error,\n  width,\n  deltaType,\n}: Props): ReactElement => {\n  if (error instanceof MapboxTokenNotProvidedError) {\n    return (\n      <ErrorElement\n        width={width}\n        name=\"No Mapbox token provided\"\n        message={\n          <>\n            <p>\n              To use <code>st.{deltaType}</code> or <code>st.map</code> you\n              need to set up a Mapbox access token.\n            </p>\n\n            <p>\n              To get a token, create an account at{\" \"}\n              <a href=\"https://mapbox.com\">https://mapbox.com</a>. It's free\n              for moderate usage levels!\n            </p>\n\n            <p>\n              Once you have a token, just set it using the Streamlit config\n              option <code>mapbox.token</code> and don't forget to restart your\n              Streamlit server at this point if it's still running, then reload\n              this tab.\n            </p>\n\n            <p>\n              See{\" \"}\n              <a href=\"https://docs.streamlit.io/library/advanced-features/configuration#view-all-configuration-options\">\n                our documentation\n              </a>{\" \"}\n              for more info on how to set config options.\n            </p>\n          </>\n        }\n      />\n    )\n  }\n\n  if (error instanceof MapboxTokenFetchingError) {\n    return (\n      <ErrorElement\n        width={width}\n        name=\"Error fetching Streamlit Mapbox token\"\n        message={\n          <>\n            <p>This app requires an internet connection.</p>\n            <p>Please check your connection and try again.</p>\n            <p>\n              If you think this is a bug, please file bug report{\" \"}\n              <a href=\"https://github.com/streamlit/streamlit/issues/new/choose\">\n                here\n              </a>\n              .\n            </p>\n          </>\n        }\n      />\n    )\n  }\n\n  return (\n    <ErrorElement\n      width={width}\n      name=\"Error fetching Streamlit Mapbox token\"\n      message={error.message}\n    />\n  )\n}\n\nexport default MapboxTokenError\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ensureError } from \"@streamlit/lib/src/util/ErrorHandling\"\nimport hoistNonReactStatics from \"hoist-non-react-statics\"\nimport React, { ComponentType, PureComponent, ReactNode } from \"react\"\nimport MapboxTokenError from \"./MapboxTokenError\"\nimport axios from \"axios\"\n\nimport {\n  DeckGlJsonChart,\n  Skeleton as SkeletonProto,\n} from \"@streamlit/lib/src/proto\"\n\nimport { Skeleton } from \"@streamlit/lib/src/components/elements/Skeleton\"\nimport { LibContext } from \"@streamlit/lib/src/components/core/LibContext\"\n\ninterface InjectedProps {\n  mapboxToken: string\n}\n\ninterface State {\n  mapboxToken?: string\n  mapboxTokenError?: Error\n  isFetching: boolean\n}\n\n// Wraps a Component expecting a \"mapboxToken\" prop.\n// The wrapped Component accepts a DeckGLJsonChart prop, which\n// incorporates the config.toml token (if provided) and omits the \"mapboxToken\" prop.\nexport type WrappedMapboxProps<P extends InjectedProps> = Omit<\n  P,\n  \"mapboxToken\"\n> & {\n  element: DeckGlJsonChart\n  width: number\n}\n\nexport class MapboxTokenNotProvidedError extends Error {}\nexport class MapboxTokenFetchingError extends Error {}\n\n/**\n * A remote file that stores user-visible tokens.\n */\nexport const TOKENS_URL = \"https://data.streamlit.io/tokens.json\"\nconst MAPBOX = \"mapbox\"\n\n/**\n * A higher-order component that fetches our mapbox token and passes\n * it through to the wrapped component.\n * This component uses tokens from config.toml first when available.\n * If the token fetch fails, an error will be rendered in place of the wrapped component.\n * This component is necessary as it's good practice to separate data collection\n * (mapbox token retrieval) and the actual rendering of a component.\n *\n * @param {string} deltaType In case of an exception we show an error with this\n */\n\nconst withMapboxToken =\n  (deltaType: string) =>\n  <P extends InjectedProps>(\n    WrappedComponent: ComponentType<React.PropsWithChildren<P>>\n  ) => {\n    // Return a wrapper that accepts the wrapped component's props, minus\n    // \"mapboxToken\". The wrapper will fetch the mapboxToken and inject it into\n    // the wrapped component automatically.\n    class WithMapboxToken extends PureComponent<WrappedMapboxProps<P>, State> {\n      public static readonly displayName = `withMapboxToken(${\n        WrappedComponent.displayName || WrappedComponent.name\n      })`\n\n      static contextType = LibContext\n\n      context!: React.ContextType<typeof LibContext>\n\n      public constructor(props: WrappedMapboxProps<P>) {\n        super(props)\n\n        this.state = {\n          isFetching: true,\n          mapboxToken: undefined,\n          mapboxTokenError: undefined,\n        }\n      }\n\n      /**\n       * Fetch the remote \"tokens.json\" set the \"mapbox\" in state.\n       * Throw an error if we can't contact TOKENS_URL or the token is missing.\n       */\n      public initMapboxToken = async (): Promise<void> => {\n        try {\n          const response = await axios.get(TOKENS_URL)\n          const { [MAPBOX]: token } = response.data\n\n          if (!token) {\n            throw new Error(`Missing token ${MAPBOX}`)\n          }\n\n          this.setState({\n            mapboxToken: token,\n            isFetching: false,\n          })\n        } catch (e) {\n          const error = ensureError(e)\n\n          this.setState({\n            mapboxTokenError: error,\n            isFetching: false,\n          })\n          throw new MapboxTokenFetchingError(\n            `${error.message} (${TOKENS_URL})`\n          )\n        }\n      }\n\n      public componentDidMount(): void {\n        const mapboxToken =\n          this.props.element.mapboxToken || this.context.libConfig.mapboxToken\n\n        if (mapboxToken) {\n          this.setState({\n            mapboxToken,\n            isFetching: false,\n          })\n        } else {\n          this.initMapboxToken()\n        }\n      }\n\n      public render = (): ReactNode => {\n        const { mapboxToken, mapboxTokenError, isFetching } = this.state\n        const { width } = this.props\n\n        // We got an error when fetching our mapbox token: show the error.\n        if (mapboxTokenError) {\n          return (\n            <MapboxTokenError\n              width={width}\n              error={mapboxTokenError}\n              deltaType={deltaType}\n            />\n          )\n        }\n\n        // If our mapboxToken hasn't been retrieved yet, show a loading\n        // skeleton.\n        if (isFetching) {\n          return (\n            <Skeleton\n              element={SkeletonProto.create({\n                style: SkeletonProto.SkeletonStyle.ELEMENT,\n              })}\n            />\n          )\n        }\n\n        // We have the mapbox token. Pass it through to our component.\n        return (\n          // (this.props as unknown as P) is required to work around a TS issue:\n          // https://github.com/microsoft/TypeScript/issues/28938#issuecomment-450636046\n          <WrappedComponent\n            {...(this.props as unknown as P)}\n            mapboxToken={mapboxToken}\n            width={width}\n          />\n        )\n      }\n    }\n\n    return hoistNonReactStatics(WithMapboxToken, WrappedComponent)\n  }\n\nexport default withMapboxToken\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport styled from \"@emotion/styled\"\nimport { hasLightBackgroundColor } from \"@streamlit/lib/src/theme\"\n\nexport interface StyledDeckGlChartProps {\n  width: number\n  height: number\n}\n\nexport const StyledDeckGlChart = styled.div<StyledDeckGlChartProps>(\n  ({ width, height, theme }) => ({\n    marginTop: theme.spacing.sm,\n    position: \"relative\",\n    height,\n    width,\n  })\n)\n\nexport const StyledNavigationControlContainer = styled.div(({ theme }) => ({\n  position: \"absolute\",\n  right: \"2.625rem\",\n  top: theme.spacing.md,\n  zIndex: 1,\n\n  // Update zoom buttons based on the active theme\n  \"button:not(:disabled)\": {\n    background: theme.colors.bgColor,\n\n    // Add a separator between buttons\n    \"& + button\": {\n      borderTopColor: theme.colors.secondaryBg,\n    },\n\n    // On dark backgrounds, invert the color for the + and - symbols\n    \"& span\": {\n      filter: hasLightBackgroundColor(theme) ? \"\" : \"invert(100%)\",\n    },\n  },\n}))\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { PureComponent, ReactNode } from \"react\"\nimport { DeckGL } from \"deck.gl\"\nimport JSON5 from \"json5\"\nimport isEqual from \"lodash/isEqual\"\nimport { MapContext, StaticMap, NavigationControl } from \"react-map-gl\"\nimport { withTheme } from \"@emotion/react\"\nimport {\n  hasLightBackgroundColor,\n  EmotionTheme,\n} from \"@streamlit/lib/src/theme\"\n// We don't have Typescript defs for these imports, which makes ESLint unhappy\n/* eslint-disable import/no-extraneous-dependencies */\nimport {\n  colorBins,\n  colorCategories,\n  colorContinuous,\n  CartoLayer,\n} from \"@deck.gl/carto\"\nimport * as layers from \"@deck.gl/layers\"\nimport { JSONConverter } from \"@deck.gl/json\"\nimport * as geoLayers from \"@deck.gl/geo-layers\"\nimport * as aggregationLayers from \"@deck.gl/aggregation-layers\"\nimport * as meshLayers from \"@deck.gl/mesh-layers\"\n/* eslint-enable */\n\nimport { CSVLoader } from \"@loaders.gl/csv\"\nimport { GLTFLoader } from \"@loaders.gl/gltf\"\nimport { registerLoaders } from \"@loaders.gl/core\"\n\nimport { withFullScreenWrapper } from \"@streamlit/lib/src/components/shared/FullScreenWrapper\"\nimport withMapboxToken from \"./withMapboxToken\"\n\nimport { DeckGlJsonChart as DeckGlJsonChartProto } from \"@streamlit/lib/src/proto\"\nimport {\n  StyledDeckGlChart,\n  StyledNavigationControlContainer,\n} from \"./styled-components\"\n\nimport \"mapbox-gl/dist/mapbox-gl.css\"\n\ninterface PickingInfo {\n  object: {\n    [key: string]: any\n  }\n}\n\ninterface DeckObject {\n  initialViewState: {\n    height: number\n    width: number\n  }\n  layers: Record<string, unknown>[]\n  mapStyle?: string | Array<string>\n}\n\nconst configuration = {\n  classes: {\n    ...layers,\n    ...aggregationLayers,\n    ...geoLayers,\n    ...meshLayers,\n    CartoLayer,\n  },\n  functions: {\n    colorBins,\n    colorCategories,\n    colorContinuous,\n  },\n}\n\nregisterLoaders([CSVLoader, GLTFLoader])\n\nconst jsonConverter = new JSONConverter({ configuration })\n\nexport interface DeckGLProps {\n  width: number\n  theme: EmotionTheme\n  mapboxToken: string\n  element: DeckGlJsonChartProto\n  isFullScreen?: boolean\n}\n\nexport interface PropsWithHeight extends DeckGLProps {\n  height?: number\n}\n\nexport interface State {\n  viewState: Record<string, unknown>\n  initialized: boolean\n  initialViewState: Record<string, unknown>\n  id: string | undefined\n  pydeckJson: any\n  isFullScreen: boolean\n  isLightTheme: boolean\n}\n\nexport const DEFAULT_DECK_GL_HEIGHT = 500\n\nexport class DeckGlJsonChart extends PureComponent<PropsWithHeight, State> {\n  readonly state = {\n    viewState: {\n      bearing: 0,\n      pitch: 0,\n      zoom: 11,\n    },\n    initialized: false,\n    initialViewState: {},\n    id: undefined,\n    pydeckJson: undefined,\n    isFullScreen: false,\n    isLightTheme: hasLightBackgroundColor(this.props.theme),\n  }\n\n  componentDidMount = (): void => {\n    // HACK: Load layers a little after loading the map, to hack around a bug\n    // where HexagonLayers were not drawing on first load but did load when the\n    // script got re-executed.\n    this.setState({\n      initialized: true,\n    })\n  }\n\n  static getDerivedStateFromProps(\n    props: Readonly<PropsWithHeight>,\n    state: Partial<State>\n  ): Partial<State> | null {\n    const deck = DeckGlJsonChart.getDeckObject(props, state)\n\n    // If the ViewState on the server has changed, apply the diff to the current state\n    if (!isEqual(deck.initialViewState, state.initialViewState)) {\n      const diff = Object.keys(deck.initialViewState).reduce(\n        (diff, key): any => {\n          // @ts-expect-error\n          if (deck.initialViewState[key] === state.initialViewState[key]) {\n            return diff\n          }\n\n          return {\n            ...diff,\n            // @ts-expect-error\n            [key]: deck.initialViewState[key],\n          }\n        },\n        {}\n      )\n\n      return {\n        viewState: { ...state.viewState, ...diff },\n        initialViewState: deck.initialViewState,\n      }\n    }\n\n    return null\n  }\n\n  static getDeckObject = (\n    props: PropsWithHeight,\n    state: Partial<State>\n  ): DeckObject => {\n    const { element, width, height, theme, isFullScreen } = props\n\n    const currFullScreen = isFullScreen ?? false\n\n    // Only parse JSON when not transitioning to/from fullscreen, the element id changes, or theme changes\n    if (\n      element.id !== state.id ||\n      state.isFullScreen !== currFullScreen ||\n      state.isLightTheme !== hasLightBackgroundColor(theme)\n    ) {\n      state.pydeckJson = JSON5.parse(element.json)\n      state.id = element.id\n    }\n\n    // If unset, use either the Mapbox light or dark style based on Streamlit's theme\n    // For Mapbox styles, see https://docs.mapbox.com/api/maps/styles/#mapbox-styles\n    if (!state.pydeckJson?.mapStyle) {\n      state.pydeckJson.mapStyle = `mapbox://styles/mapbox/${\n        hasLightBackgroundColor(theme) ? \"light\" : \"dark\"\n      }-v9`\n    }\n\n    // Set width and height based on the fullscreen state\n    if (isFullScreen) {\n      Object.assign(state.pydeckJson?.initialViewState, { width, height })\n    } else {\n      if (!state.pydeckJson?.initialViewState?.height) {\n        state.pydeckJson.initialViewState.height = DEFAULT_DECK_GL_HEIGHT\n      }\n      if (element.useContainerWidth) {\n        state.pydeckJson.initialViewState.width = width\n      }\n    }\n\n    state.isFullScreen = isFullScreen\n    state.isLightTheme = hasLightBackgroundColor(theme)\n\n    delete state.pydeckJson?.views // We are not using views. This avoids a console warning.\n\n    return jsonConverter.convert(state.pydeckJson)\n  }\n\n  createTooltip = (info: PickingInfo): Record<string, unknown> | boolean => {\n    const { element } = this.props\n\n    if (!info || !info.object || !element.tooltip) {\n      return false\n    }\n\n    const tooltip = JSON5.parse(element.tooltip)\n\n    // NB: https://deckgl.readthedocs.io/en/latest/tooltip.html\n    if (tooltip.html) {\n      tooltip.html = this.interpolate(info, tooltip.html)\n    } else {\n      tooltip.text = this.interpolate(info, tooltip.text)\n    }\n\n    return tooltip\n  }\n\n  interpolate = (info: PickingInfo, body: string): string => {\n    const matchedVariables = body.match(/{(.*?)}/g)\n    if (matchedVariables) {\n      matchedVariables.forEach((match: string) => {\n        const variable = match.substring(1, match.length - 1)\n\n        if (info.object.hasOwnProperty(variable)) {\n          body = body.replace(match, info.object[variable])\n        } else if (\n          info.object.hasOwnProperty(\"properties\") &&\n          info.object.properties.hasOwnProperty(variable)\n        ) {\n          body = body.replace(match, info.object.properties[variable])\n        }\n      })\n    }\n    return body\n  }\n\n  onViewStateChange = ({ viewState }: State): void => {\n    this.setState({ viewState })\n  }\n\n  render(): ReactNode {\n    const deck = DeckGlJsonChart.getDeckObject(this.props, this.state)\n    const { viewState } = this.state\n    return (\n      <StyledDeckGlChart\n        className=\"stDeckGlJsonChart\"\n        width={deck.initialViewState.width}\n        height={deck.initialViewState.height}\n        data-testid=\"stDeckGlJsonChart\"\n      >\n        <DeckGL\n          viewState={viewState}\n          onViewStateChange={this.onViewStateChange}\n          height={deck.initialViewState.height}\n          width={deck.initialViewState.width}\n          layers={this.state.initialized ? deck.layers : []}\n          getTooltip={this.createTooltip}\n          ContextProvider={MapContext.Provider}\n          controller\n        >\n          <StaticMap\n            height={deck.initialViewState.height}\n            width={deck.initialViewState.width}\n            mapStyle={\n              deck.mapStyle &&\n              (typeof deck.mapStyle === \"string\"\n                ? deck.mapStyle\n                : deck.mapStyle[0])\n            }\n            mapboxApiAccessToken={\n              this.props.element.mapboxToken || this.props.mapboxToken\n            }\n          />\n          <StyledNavigationControlContainer>\n            <NavigationControl className=\"zoomButton\" showCompass={false} />\n          </StyledNavigationControlContainer>\n        </DeckGL>\n      </StyledDeckGlChart>\n    )\n  }\n}\n\nexport default withTheme(\n  withMapboxToken(\"st.pydeck_chart\")(withFullScreenWrapper(DeckGlJsonChart))\n)\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport styled from \"@emotion/styled\"\n\nexport interface StyledFullScreenButtonProps {\n  isExpanded: boolean\n}\n\nexport const StyledFullScreenButton =\n  styled.button<StyledFullScreenButtonProps>(({ isExpanded, theme }) => {\n    const variableProps = isExpanded\n      ? {\n          right: \"0.4rem\",\n          top: \"0.5rem\",\n          backgroundColor: \"transparent\",\n        }\n      : {\n          right: \"-3.0rem\",\n          top: \"-0.375rem\",\n          opacity: 0,\n          transform: \"scale(0)\",\n          backgroundColor: theme.colors.lightenedBg05,\n        }\n\n    return {\n      position: \"absolute\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n\n      zIndex: theme.zIndices.sidebar + 1,\n      height: \"2.5rem\",\n      width: \"2.5rem\",\n      transition: \"opacity 300ms 150ms, transform 300ms 150ms\",\n      border: \"none\",\n      color: theme.colors.fadedText60,\n      borderRadius: \"50%\",\n\n      ...variableProps,\n\n      \"&:focus\": {\n        outline: \"none\",\n      },\n\n      \"&:active, &:focus-visible, &:hover\": {\n        opacity: 1,\n        outline: \"none\",\n        transform: \"scale(1)\",\n        color: theme.colors.bodyText,\n        transition: \"none\",\n      },\n    }\n  })\n\nexport interface StyledFullScreenFrameProps {\n  isExpanded: boolean\n}\n\nexport const StyledFullScreenFrame = styled.div<StyledFullScreenFrameProps>(\n  ({ theme, isExpanded }) => ({\n    \"&:hover\": {\n      [StyledFullScreenButton as any]: {\n        opacity: 1,\n        transform: \"scale(1)\",\n        transition: \"none\",\n      },\n    },\n\n    ...(isExpanded\n      ? {\n          position: \"fixed\",\n          top: 0,\n          left: 0,\n          bottom: 0,\n          right: 0,\n          background: theme.colors.bgColor,\n          zIndex: theme.zIndices.fullscreenWrapper,\n          padding: theme.spacing.md,\n          paddingTop: \"2.875rem\", // Old header height to avoid addtl cascading visual/snapshot changes\n          overflow: [\"auto\", \"overlay\"],\n          display: \"flex\", // To avoid extra spaces that lead to scrollbars.\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }\n      : {}),\n  })\n)\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { PureComponent } from \"react\"\nimport { withTheme } from \"@emotion/react\"\nimport { FullscreenEnter, FullscreenExit } from \"@emotion-icons/open-iconic\"\nimport Icon from \"@streamlit/lib/src/components/shared/Icon\"\nimport { LibContext } from \"@streamlit/lib/src/components/core/LibContext\"\nimport { EmotionTheme } from \"@streamlit/lib/src/theme\"\nimport {\n  StyledFullScreenFrame,\n  StyledFullScreenButton,\n} from \"./styled-components\"\n\nexport type Size = {\n  width: number\n  expanded: boolean\n  height?: number\n  expand: () => void\n  collapse: () => void\n}\n\n/*\n * Function responsible for rendering children.\n * This function should implement the following signature:\n * ({ height, width }) => PropTypes.element\n */\nexport interface FullScreenWrapperProps {\n  children: (props: Size) => React.ReactNode\n  width: number\n  height?: number\n  theme: EmotionTheme\n  disableFullscreenMode?: boolean\n}\n\ninterface State {\n  expanded: boolean\n  fullWidth: number\n  fullHeight: number\n}\n\n/*\n * A component that draws a button on the top right of the\n * wrapper element. OnClick, change the element container\n * to fixed and cover all screen, updating wrapped element height and width\n */\nclass FullScreenWrapper extends PureComponent<FullScreenWrapperProps, State> {\n  public context!: React.ContextType<typeof LibContext>\n\n  public static contextType = LibContext\n\n  public constructor(props: FullScreenWrapperProps) {\n    super(props)\n    this.state = {\n      expanded: false,\n      ...this.getWindowDimensions(),\n    }\n  }\n\n  public componentDidMount(): void {\n    window.addEventListener(\"resize\", this.updateWindowDimensions)\n    document.addEventListener(\"keydown\", this.controlKeys, false)\n  }\n\n  public componentWillUnmount(): void {\n    window.removeEventListener(\"resize\", this.updateWindowDimensions)\n    document.removeEventListener(\"keydown\", this.controlKeys, false)\n  }\n\n  private controlKeys = (event: any): void => {\n    const { expanded } = this.state\n\n    if (event.keyCode === 27 && expanded) {\n      // Exit fullscreen\n      this.zoomOut()\n    }\n  }\n\n  private zoomIn = (): void => {\n    document.body.style.overflow = \"hidden\"\n    this.context.setFullScreen(true)\n    this.setState({ expanded: true })\n  }\n\n  private zoomOut = (): void => {\n    document.body.style.overflow = \"unset\"\n    this.context.setFullScreen(false)\n    this.setState({ expanded: false })\n  }\n\n  private convertScssRemValueToPixels = (scssValue: string): number => {\n    const remValue = parseFloat(scssValue)\n    return (\n      remValue *\n      parseFloat(getComputedStyle(document.documentElement).fontSize)\n    )\n  }\n\n  private getWindowDimensions = (): Pick<\n    State,\n    \"fullWidth\" | \"fullHeight\"\n  > => {\n    const padding = this.convertScssRemValueToPixels(\n      this.props.theme.spacing.md\n    )\n    const paddingTop = this.convertScssRemValueToPixels(\n      // Old header height to avoid addtl cascading visual/snapshot changes\n      \"2.875rem\"\n    )\n\n    return {\n      fullWidth: window.innerWidth - padding * 2, // Left and right\n      fullHeight: window.innerHeight - (padding + paddingTop), // Bottom and Top\n    }\n  }\n\n  private updateWindowDimensions = (): void => {\n    this.setState(this.getWindowDimensions())\n  }\n\n  public render(): JSX.Element {\n    const { expanded, fullWidth, fullHeight } = this.state\n    const { children, width, height, disableFullscreenMode } = this.props\n\n    let buttonImage = FullscreenEnter\n    let buttonOnClick = this.zoomIn\n    let buttonTitle = \"View fullscreen\"\n\n    if (expanded) {\n      buttonImage = FullscreenExit\n      buttonOnClick = this.zoomOut\n      buttonTitle = \"Exit fullscreen\"\n    }\n\n    return (\n      <StyledFullScreenFrame\n        isExpanded={expanded}\n        data-testid={\"stFullScreenFrame\"}\n      >\n        {!disableFullscreenMode && (\n          <StyledFullScreenButton\n            data-testid=\"StyledFullScreenButton\"\n            onClick={buttonOnClick}\n            title={buttonTitle}\n            isExpanded={expanded}\n          >\n            <Icon content={buttonImage} />\n          </StyledFullScreenButton>\n        )}\n        {expanded\n          ? children({\n              width: fullWidth,\n              height: fullHeight,\n              expanded,\n              expand: this.zoomIn,\n              collapse: this.zoomOut,\n            })\n          : children({\n              width,\n              height,\n              expanded,\n              expand: this.zoomIn,\n              collapse: this.zoomOut,\n            })}\n      </StyledFullScreenFrame>\n    )\n  }\n}\n\nexport default withTheme(FullScreenWrapper)\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { PureComponent, ComponentType, ReactNode } from \"react\"\nimport hoistNonReactStatics from \"hoist-non-react-statics\"\n\nimport FullScreenWrapper from \"./FullScreenWrapper\"\n\nexport interface Props {\n  width: number\n  height?: number\n  disableFullscreenMode?: boolean\n}\n\n// Our wrapper takes the wrapped component's props, plus \"width\", \"height?\".\n// It will pass \"isFullScreen\" to the wrapped component automatically\n// (but the wrapped component is free to ignore that prop).\ntype WrapperProps<P> = Omit<P & Props, \"isFullScreen\" | \"collapse\" | \"expand\">\n\nfunction withFullScreenWrapper<P>(\n  WrappedComponent: ComponentType<React.PropsWithChildren<P>>,\n  forceDisableFullScreenMode = false\n): ComponentType<React.PropsWithChildren<WrapperProps<P>>> {\n  class ComponentWithFullScreenWrapper extends PureComponent<WrapperProps<P>> {\n    public static readonly displayName = `withFullScreenWrapper(${\n      WrappedComponent.displayName || WrappedComponent.name\n    })`\n\n    public render = (): ReactNode => {\n      const { width, height, disableFullscreenMode } = this.props\n\n      return (\n        <FullScreenWrapper\n          width={width}\n          height={height}\n          disableFullscreenMode={\n            forceDisableFullScreenMode || disableFullscreenMode\n          }\n        >\n          {({ width, height, expanded, expand, collapse }) => (\n            // `(this.props as P)` is required due to a TS bug:\n            // https://github.com/microsoft/TypeScript/issues/28938#issuecomment-450636046\n            <WrappedComponent\n              {...(this.props as P)}\n              width={width}\n              height={height}\n              isFullScreen={expanded}\n              expand={expand}\n              collapse={collapse}\n            />\n          )}\n        </FullScreenWrapper>\n      )\n    }\n  }\n\n  // Static methods must be copied over\n  // https://en.reactjs.org/docs/higher-order-components.html#static-methods-must-be-copied-over\n  return hoistNonReactStatics(ComponentWithFullScreenWrapper, WrappedComponent)\n}\n\nexport default withFullScreenWrapper\n"],"names":["_ref","error","width","deltaType","MapboxTokenNotProvidedError","_jsx","ErrorElement","name","message","_jsxs","_Fragment","children","href","MapboxTokenFetchingError","Error","TOKENS_URL","MAPBOX","WrappedComponent","WithMapboxToken","PureComponent","constructor","props","super","context","initMapboxToken","async","response","axios","token","data","concat","this","setState","mapboxToken","isFetching","e","ensureError","mapboxTokenError","render","state","MapboxTokenError","Skeleton","element","SkeletonProto","style","undefined","componentDidMount","libConfig","displayName","contextType","LibContext","hoistNonReactStatics","StyledDeckGlChart","_styled","target","height","theme","marginTop","spacing","sm","position","StyledNavigationControlContainer","_ref2","right","top","md","zIndex","background","colors","bgColor","borderTopColor","secondaryBg","filter","hasLightBackgroundColor","configuration","classes","layers","aggregationLayers","geoLayers","meshLayers","CartoLayer","functions","colorBins","colorCategories","colorContinuous","registerLoaders","CSVLoader","GLTFLoader","jsonConverter","JSONConverter","DeckGlJsonChart","arguments","viewState","bearing","pitch","zoom","initialized","initialViewState","id","pydeckJson","isFullScreen","isLightTheme","createTooltip","info","object","tooltip","JSON5","html","interpolate","text","body","matchedVariables","match","forEach","variable","substring","length","hasOwnProperty","replace","properties","onViewStateChange","getDerivedStateFromProps","deck","getDeckObject","isEqual","diff","Object","keys","reduce","key","className","DeckGL","getTooltip","ContextProvider","MapContext","controller","StaticMap","mapStyle","mapboxApiAccessToken","NavigationControl","showCompass","_state$pydeckJson","_state$pydeckJson4","currFullScreen","_state$pydeckJson2","_state$pydeckJson3","json","assign","useContainerWidth","views","convert","withTheme","withMapboxToken","withFullScreenWrapper","StyledFullScreenButton","isExpanded","variableProps","backgroundColor","opacity","transform","lightenedBg05","display","alignItems","justifyContent","zIndices","sidebar","transition","border","color","fadedText60","borderRadius","outline","bodyText","StyledFullScreenFrame","left","bottom","fullscreenWrapper","padding","paddingTop","overflow","FullScreenWrapper","controlKeys","event","expanded","keyCode","zoomOut","zoomIn","document","setFullScreen","convertScssRemValueToPixels","scssValue","parseFloat","getComputedStyle","documentElement","fontSize","getWindowDimensions","fullWidth","window","innerWidth","fullHeight","innerHeight","updateWindowDimensions","addEventListener","componentWillUnmount","removeEventListener","disableFullscreenMode","buttonImage","FullscreenEnter","buttonOnClick","buttonTitle","FullscreenExit","onClick","title","Icon","content","expand","collapse","forceDisableFullScreenMode","ComponentWithFullScreenWrapper"],"sourceRoot":""}